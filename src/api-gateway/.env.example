# AI-PLATFORM API Gateway Environment Configuration
# Copy this file to .env and adjust values for your environment

# ============================================================================
# ENVIRONMENT
# ============================================================================
ENVIRONMENT=development
LOG_LEVEL=debug

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================
SERVER_HOST=0.0.0.0
SERVER_PORT=8080
SERVER_WORKERS=4
SERVER_MAX_CONNECTIONS=10000
SERVER_TIMEOUT_SECONDS=30

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
DATABASE_URL=postgresql://ai_core_user:ai_core_password@localhost:5432/ai_core_db
DATABASE_MAX_CONNECTIONS=20
DATABASE_MIN_CONNECTIONS=5
DATABASE_ACQUIRE_TIMEOUT_SECONDS=10
DATABASE_IDLE_TIMEOUT_SECONDS=300
DATABASE_MAX_LIFETIME_SECONDS=3600

# ============================================================================
# REDIS CONFIGURATION
# ============================================================================
REDIS_URL=redis://localhost:6379
REDIS_POOL_SIZE=20
REDIS_CONNECTION_TIMEOUT_SECONDS=5
REDIS_COMMAND_TIMEOUT_SECONDS=10

# ============================================================================
# AUTHENTICATION & SECURITY
# ============================================================================
JWT_SECRET=your-super-secure-jwt-secret-key-at-least-32-characters-long-for-production
JWT_EXPIRY_HOURS=24
JWT_REFRESH_EXPIRY_DAYS=30
PASSWORD_SALT_ROUNDS=12

# ============================================================================
# RATE LIMITING
# ============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=1000
RATE_LIMIT_PER_HOUR=10000
RATE_LIMIT_BURST_MULTIPLIER=1.5

# Pro tier limits
RATE_LIMIT_PRO_PER_MINUTE=5000
RATE_LIMIT_PRO_PER_HOUR=50000

# Enterprise tier limits
RATE_LIMIT_ENTERPRISE_PER_MINUTE=20000
RATE_LIMIT_ENTERPRISE_PER_HOUR=200000

# ============================================================================
# SERVICE ROUTING & DISCOVERY
# ============================================================================
SERVICE_DISCOVERY_ENABLED=true
SERVICE_HEALTH_CHECK_INTERVAL_SECONDS=30
SERVICE_TIMEOUT_SECONDS=30
SERVICE_MAX_RETRIES=3

# Microservice endpoints (for development - will be replaced by service discovery)
WORKFLOW_SERVICE_URL=http://localhost:8081
INTENT_PARSER_SERVICE_URL=http://localhost:8082
ANALYTICS_SERVICE_URL=http://localhost:8083
FEDERATION_SERVICE_URL=http://localhost:8084

# ============================================================================
# CIRCUIT BREAKER CONFIGURATION
# ============================================================================
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_RESET_TIMEOUT_SECONDS=60
CIRCUIT_BREAKER_SUCCESS_THRESHOLD=3

# ============================================================================
# OBSERVABILITY & MONITORING
# ============================================================================
JAEGER_ENDPOINT=http://localhost:14268/api/traces
PROMETHEUS_ENABLED=true
METRICS_PORT=9090
HEALTH_CHECK_ENABLED=true

# OpenTelemetry configuration
OTEL_SERVICE_NAME=AI-PLATFORM-api-gateway
OTEL_SERVICE_VERSION=1.0.0
OTEL_EXPORTER_JAEGER_ENDPOINT=http://localhost:14268/api/traces

# ============================================================================
# EXTERNAL INTEGRATIONS
# ============================================================================
# Temporal.io configuration
TEMPORAL_HOST=localhost
TEMPORAL_PORT=7233
TEMPORAL_NAMESPACE=AI-PLATFORM

# Email service (for notifications)
EMAIL_SMTP_HOST=localhost
EMAIL_SMTP_PORT=587
EMAIL_SMTP_USER=noreply@AI-PLATFORM.dev
EMAIL_SMTP_PASSWORD=your-email-password
EMAIL_FROM_ADDRESS=noreply@AI-PLATFORM.dev

# ============================================================================
# FEATURE FLAGS
# ============================================================================
FEATURE_FEDERATION_ENABLED=true
FEATURE_ANALYTICS_ENABLED=true
FEATURE_WEBHOOKS_ENABLED=true
FEATURE_ADMIN_API_ENABLED=true
FEATURE_BILLING_ENABLED=false

# ============================================================================
# SECURITY HEADERS & CORS
# ============================================================================
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Request-ID
CORS_MAX_AGE_SECONDS=3600

# Content Security Policy
CSP_DEFAULT_SRC='self'
CSP_SCRIPT_SRC='self' 'unsafe-inline'
CSP_STYLE_SRC='self' 'unsafe-inline'
CSP_IMG_SRC='self' data: https:

# ============================================================================
# FILE UPLOAD CONFIGURATION
# ============================================================================
MAX_UPLOAD_SIZE_MB=100
ALLOWED_FILE_TYPES=jpg,jpeg,png,gif,pdf,txt,csv,json,yaml,yml

# ============================================================================
# DEVELOPMENT SETTINGS
# ============================================================================
# Set to true to enable debug logging and additional development features
DEBUG_MODE=true
MOCK_EXTERNAL_SERVICES=false

# API Documentation
API_DOCS_ENABLED=true
API_DOCS_PATH=/docs

# Database migrations
AUTO_MIGRATE=true

# ============================================================================
# PRODUCTION SETTINGS (override in production environment)
# ============================================================================
# ENVIRONMENT=production
# DEBUG_MODE=false
# AUTO_MIGRATE=false
# API_DOCS_ENABLED=false
# LOG_LEVEL=info
# JWT_SECRET=<use a secure random key>
# DATABASE_URL=<production database URL>
# REDIS_URL=<production redis URL>
